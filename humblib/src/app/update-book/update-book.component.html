<div class="container mx-auto">
  <div class="mt-5 flex justify-center">
    <form
      *ngIf="this.libraryService.categoriesState.getValue()"
      [formGroup]="form"
      class="bg-white rounded-3xl p-9 shadow-2xl flex max-w-md items-center border-2 border-emerald-900 justify-center flex-col"
      (submit)="onSubmit()"
    >
      <mat-form-field>
        <mat-label>Book Name</mat-label>
        <input
          maxlength="256"
          #bookname
          matInput
          type="text"
          required
          class="p-2 bg-emerald-100 text-emerald-900"
          formControlName="name"
          name="name"
          id="name"
        />
        <mat-hint>{{ bookname.value.length }}/256</mat-hint>
      </mat-form-field>
      <div
        *ngIf="this.libraryService.categoriesState.getValue().length"
        class="bg-emerald-900 p-2 text-cyan-50 rounded-full"
      >
        Categories
      </div>
      <div class="flex flex-wrap">
        <div
          class="flex-grow basis-0"
          *ngFor="let cat of this.libraryService.categoriesState.getValue()"
        >
          <mat-checkbox
            color="primary"
            [checked]="isCat(cat) ? '' : null"
            [value]="cat.id"
            (change)="onCheckboxChange($event)"
            id=""
          >
            {{ cat.name }}
          </mat-checkbox>
        </div>
      </div>
      <button
        class="bg-emerald-900 p-2 m-2 rounded-md text-cyan-50 hover:bg-emerald-700 transition hover:cursor-pointer"
        type="submit"
      >
        Update
      </button>
    </form>
  </div>
</div>
